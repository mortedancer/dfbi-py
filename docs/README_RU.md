# –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ DFBI - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–†—É—Å—Å–∫–∏–π)

[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–í–≤–µ–¥–µ–Ω–∏–µ](#–≤–≤–µ–¥–µ–Ω–∏–µ)
2. [–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ—Å–Ω–æ–≤—ã](#—Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ-–æ—Å–Ω–æ–≤—ã)
3. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
4. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
5. [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API](#—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫-api)
6. [–ü—Ä–∏–º–µ—Ä—ã –∏ —Å–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏-—Å–ª—É—á–∞–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
7. [–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞—Ö Kaggle](#—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã-–Ω–∞-–¥–∞—Ç–∞—Å–µ—Ç–∞—Ö-kaggle)
8. [–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏](#–∞–Ω–∞–ª–∏–∑-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
9. [–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
10. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)

## –í–≤–µ–¥–µ–Ω–∏–µ

**DFBI (Deterministic Finite-horizon Bigram Interference)** ‚Äî —ç—Ç–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞–µ—Ç —á–∏—Å–ª–µ–Ω–Ω—ã–µ –æ—Ç–ø–µ—á–∞—Ç–∫–∏ —Ç–µ–∫—Å—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–∞—Ä —Å–∏–º–≤–æ–ª–æ–≤, –≤–∑–≤–µ—à–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∑–∞—Ç—É—Ö–∞–Ω–∏—è, –∑–∞–≤–∏—Å—è—â–∏–º–∏ –æ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–ª–æ–∂–Ω—ã–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã, –≤–∫–ª—é—á–∞—è –≤–µ–π–≤–ª–µ—Ç-–∞–Ω–∞–ª–∏–∑, –±–∞–Ω–∫–∏ —è–¥–µ—Ä –∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ñ–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ –¥–ª—è –≤—ã—Å–æ–∫–æ—Ç–æ—á–Ω–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–æ–≤ –∏ –∞—Ç—Ä–∏–±—É—Ü–∏–∏ –∞–≤—Ç–æ—Ä—Å—Ç–≤–∞.

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **üåä –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–µ–π–≤–ª–µ—Ç-—è–¥—Ä–∞**: –í–µ–π–≤–ª–µ—Ç—ã –ú–æ—Ä–ª–µ, –º–µ–∫—Å–∏–∫–∞–Ω—Å–∫–∞—è —à–ª—è–ø–∞, –≥–∞—É—Å—Å–æ–≤—ã –∏ —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞—Ç—É—Ö–∞–Ω–∏—è
- **üìä –ú–Ω–æ–≥–æ–º–∞—Å—à—Ç–∞–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑**: –ë–∞–Ω–∫–∏ —è–¥–µ—Ä, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–π –∑–∞—Ç—É—Ö–∞–Ω–∏—è
- **üîç –í—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å**: –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–∑–Ω–∞—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å —Ñ–∞–∑–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- **üåç –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∞–ª—Ñ–∞–≤–∏—Ç—ã –¥–ª—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ, —Ä—É—Å—Å–∫–æ–≥–æ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —è–∑—ã–∫–æ–≤
- **‚ö° –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¥–ª—è –∫—Ä—É–ø–Ω–æ–º–∞—Å—à—Ç–∞–±–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–æ–≤
- **üéØ –ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ YAML –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

## –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ—Å–Ω–æ–≤—ã

### –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞

DFBI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç—ã, –∏—Å—Å–ª–µ–¥—É—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–∞—Ä —Å–∏–º–≤–æ–ª–æ–≤ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∫–æ–Ω–µ—á–Ω–æ–≥–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞. –û—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º –≤—ã—á–∏—Å–ª—è–µ—Ç –≤–∑–≤–µ—à–µ–Ω–Ω—ã–µ —á–∞—Å—Ç–æ—Ç—ã –ø–∞—Ä —Å–∏–º–≤–æ–ª–æ–≤:

```
M[i,j] = Œ£_{d=1}^h w(d) √ó count(char_i, char_j, distance=d)
```

–ì–¥–µ:
- `M[i,j]` ‚Äî —ç–ª–µ–º–µ–Ω—Ç –º–∞—Ç—Ä–∏—Ü—ã –æ—Ç–ø–µ—á–∞—Ç–∫–∞ –¥–ª—è –ø–∞—Ä—ã —Å–∏–º–≤–æ–ª–æ–≤ (i,j)
- `h` ‚Äî –≥–æ—Ä–∏–∑–æ–Ω—Ç (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ)
- `w(d)` ‚Äî –≤–µ—Å —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞—Ç—É—Ö–∞–Ω–∏—è –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ d
- `count(char_i, char_j, distance=d)` ‚Äî —á–∞—Å—Ç–æ—Ç–∞ –ø–∞—Ä—ã —Å–∏–º–≤–æ–ª–æ–≤ –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ d

### –§—É–Ω–∫—Ü–∏–∏ –∑–∞—Ç—É—Ö–∞–Ω–∏—è

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–ª–æ–∂–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∑–∞—Ç—É—Ö–∞–Ω–∏—è:

#### 1. –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ –∑–∞—Ç—É—Ö–∞–Ω–∏–µ
```
w(d) = exp(-Œª(d-1))
```
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –ë—ã—Å—Ç—Ä—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: Œª (—Å–∫–æ—Ä–æ—Å—Ç—å –∑–∞—Ç—É—Ö–∞–Ω–∏—è)
- **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**: –ú–æ–Ω–æ—Ç–æ–Ω–Ω–æ–µ —É–±—ã–≤–∞–Ω–∏–µ, –ø—Ä–æ—Å—Ç—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

#### 2. –ì–∞—É—Å—Å–æ–≤–æ –∑–∞—Ç—É—Ö–∞–Ω–∏–µ
```
w(d) = exp(-((d-Œº)¬≤)/(2œÉ¬≤))
```
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑, —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: Œº (—Ü–µ–Ω—Ç—Ä), œÉ (—à–∏—Ä–∏–Ω–∞)
- **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**: –ö–æ–ª–æ–∫–æ–ª–æ–æ–±—Ä–∞–∑–Ω–∞—è —Ñ–æ—Ä–º–∞, –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã

#### 3. –í–µ–π–≤–ª–µ—Ç –ú–æ—Ä–ª–µ (–∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π)
```
w(d) = exp(-0.5(t/œÉ)¬≤) √ó exp(iœât)
```
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∞–Ω–∞–ª–∏–∑, –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: œâ (—á–∞—Å—Ç–æ—Ç–∞), œÉ (–º–∞—Å—à—Ç–∞–±)
- **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**: –û—Å—Ü–∏–ª–ª–∏—Ä—É—é—â–∏–π, —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π –∫ —Ñ–∞–∑–µ, –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–∑–Ω–∞—á–Ω—ã–π

#### 4. –ú–µ–∫—Å–∏–∫–∞–Ω—Å–∫–∞—è —à–ª—è–ø–∞
```
w(d) = (1-u¬≤) √ó exp(-0.5u¬≤), –≥–¥–µ u = t/œÉ
```
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: œÉ (–º–∞—Å—à—Ç–∞–±)
- **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**: –ù—É–ª–µ–≤–æ–µ —Å—Ä–µ–¥–Ω–µ–µ, —Ö–æ—Ä–æ—à–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

### –ë–∞–Ω–∫–∏ —è–¥–µ—Ä

–ë–∞–Ω–∫–∏ —è–¥–µ—Ä –æ–±—ä–µ–¥–∏–Ω—è—é—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–π –∑–∞—Ç—É—Ö–∞–Ω–∏—è –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞:

```python
# –ú–Ω–æ–≥–æ–º–∞—Å—à—Ç–∞–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑
bank = "morlet:omega=3.0,sigma=1.0 + gauss:mu=2.0,sigma=1.5 + exp:lambda=0.8"
```

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–≥—Ä–µ–≥–∏—Ä—É—é—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–æ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫:
- **sum_abs**: `M = Œ£|M_k|` (—Å—É–º–º–∞ –º–æ–¥—É–ª–µ–π)
- **concatenation**: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –º–Ω–æ–≥–æ–º–µ—Ä–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

### –ú–µ—Ç–æ–¥—ã –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

#### –ì–ª–æ–±–∞–ª—å–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
```
M_normalized = M / ||M||_1
```
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –≤–µ–ª–∏—á–∏–Ω—ã –ø–æ –≤—Å–µ–π –º–∞—Ç—Ä–∏—Ü–µ.

#### –°—Ç—Ä–æ—á–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
```
M_normalized[i,:] = M[i,:] / ||M[i,:]||_1
```
–ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –∏—Å—Ö–æ–¥—è—â–∏–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8 –∏–ª–∏ –≤—ã—à–µ
- NumPy >= 1.22
- Pandas >= 1.4

### –ë–∞–∑–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
cd dfbi_lib_0_1_6_wave_kernels
pip install -e .
```

### –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
pip install -e dfbi_lib_0_1_6_wave_kernels/

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤
pip install pyyaml matplotlib scikit-learn psutil

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
python -c "import dfbi; print('DFBI —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞')"
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url>
cd dfbi-library

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
pip install -e dfbi_lib_0_1_6_wave_kernels/[dev]

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
cd dfbi_lib_0_1_6_wave_kernels
python -m pytest tests/ -v
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ë–∞–∑–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–ø–µ—á–∞—Ç–∫–æ–≤ —Ç–µ–∫—Å—Ç–∞

```python
from dfbi import fingerprint
from dfbi.alphabet import EN34, RU41

# –ê–Ω–∞–ª–∏–∑ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
text_en = "The quick brown fox jumps over the lazy dog"
fp_en = fingerprint(text_en, alphabet=EN34, horizon=3)
print(f"–†–∞–∑–º–µ—Ä –æ—Ç–ø–µ—á–∞—Ç–∫–∞: {fp_en.shape}")  # (34, 34)

# –ê–Ω–∞–ª–∏–∑ —Ä—É—Å—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
text_ru = "–ë—ã—Å—Ç—Ä–∞—è –∫–æ—Ä–∏—á–Ω–µ–≤–∞—è –ª–∏—Å–∞ –ø—Ä—ã–≥–∞–µ—Ç —á–µ—Ä–µ–∑ –ª–µ–Ω–∏–≤—É—é —Å–æ–±–∞–∫—É"
fp_ru = fingerprint(text_ru, alphabet=RU41, horizon=3)
print(f"–†–∞–∑–º–µ—Ä –æ—Ç–ø–µ—á–∞—Ç–∫–∞: {fp_ru.shape}")  # (41, 41)
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –≤–µ–π–≤–ª–µ—Ç-–∞–Ω–∞–ª–∏–∑

```python
# –ê–Ω–∞–ª–∏–∑ —Å –≤–µ–π–≤–ª–µ—Ç–æ–º –ú–æ—Ä–ª–µ
fp_morlet = fingerprint(
    text_ru,
    alphabet=RU41,
    horizon=5,
    decay=('morlet', {'omega': 3.0, 'sigma': 1.0}),
    normalize='row',
    mask='letters'
)

# –ú–Ω–æ–≥–æ—è–¥–µ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑
fp_multi = fingerprint(
    text_ru,
    alphabet=RU41,
    horizon=4,
    bank="morlet:omega=3.0,sigma=1.0 + gauss:mu=2.0,sigma=1.5",
    aggregate='sum_abs'
)
```

### –ê–Ω–∞–ª–∏–∑ —Å—Ö–æ–¥—Å—Ç–≤–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

```python
from dfbi.metrics import dist_cosine, dist_l2

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤—É—Ö —Ç–µ–∫—Å—Ç–æ–≤
text1 = "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–µ—Ä–≤–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞"
text2 = "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤—Ç–æ—Ä–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞"

fp1 = fingerprint(text1, alphabet=RU41, horizon=3)
fp2 = fingerprint(text2, alphabet=RU41, horizon=3)

# –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ö–æ–¥—Å—Ç–≤–∞
cosine_distance = dist_cosine(fp1, fp2)
similarity = 1 - cosine_distance
print(f"–°—Ö–æ–¥—Å—Ç–≤–æ: {similarity:.4f}")
```

### –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

```python
from dfbi import batch_from_texts

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
documents = {
    'doc1': '–¢–µ–∫—Å—Ç –ø–µ—Ä–≤–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞',
    'doc2': '–¢–µ–∫—Å—Ç –≤—Ç–æ—Ä–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞',
    'doc3': '–¢–µ–∫—Å—Ç —Ç—Ä–µ—Ç—å–µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞'
}

# –ü–∞–∫–µ—Ç–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–ø–µ—á–∞—Ç–∫–æ–≤
fingerprints = batch_from_texts(
    documents,
    alphabet=RU41,
    horizon=3,
    decay=('gauss', {'mu': 2.0, 'sigma': 1.0})
)

# –î–æ—Å—Ç—É–ø –∫ –æ—Ç–¥–µ–ª—å–Ω—ã–º –æ—Ç–ø–µ—á–∞—Ç–∫–∞–º
fp_doc1 = fingerprints['doc1']
```

## –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### `fingerprint(text, **kwargs)`
–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–ø–µ—á–∞—Ç–∫–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `text` (str): –í—Ö–æ–¥–Ω–æ–π —Ç–µ–∫—Å—Ç
- `alphabet` (Alphabet): –ê–ª—Ñ–∞–≤–∏—Ç —Å–∏–º–≤–æ–ª–æ–≤ (EN34, RU41 –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π)
- `horizon` (int): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –ø–∞—Ä–∞–º–∏ —Å–∏–º–≤–æ–ª–æ–≤
- `decay` (tuple): –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞—Ç—É—Ö–∞–Ω–∏—è
- `normalize` (str): –ú–µ—Ç–æ–¥ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ ('global', 'row')
- `mask` (str): –ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤ ('letters', 'punct', 'none')
- `transform` (str): –ü–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞ ('sqrt', 'log1p')

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `np.ndarray` - –ú–∞—Ç—Ä–∏—Ü–∞ –æ—Ç–ø–µ—á–∞—Ç–∫–∞

#### `batch_from_texts(texts, **kwargs)`
–ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `texts` (dict): –°–ª–æ–≤–∞—Ä—å –ø–∞—Ä {–∏–º—è: —Ç–µ–∫—Å—Ç}
- `**kwargs`: –¢–µ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —á—Ç–æ –∏ —É fingerprint()

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `dict` - –°–ª–æ–≤–∞—Ä—å –ø–∞—Ä {–∏–º—è: –æ—Ç–ø–µ—á–∞—Ç–æ–∫}

#### `window_scan(text, win, step, **kwargs)`
–ê–Ω–∞–ª–∏–∑ —Å–∫–æ–ª—å–∑—è—â–∏–º –æ–∫–Ω–æ–º –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `text` (str): –í—Ö–æ–¥–Ω–æ–π —Ç–µ–∫—Å—Ç
- `win` (int): –†–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –≤ —Å–∏–º–≤–æ–ª–∞—Ö
- `step` (int): –†–∞–∑–º–µ—Ä —à–∞–≥–∞ –¥–ª—è —Å–∫–æ–ª—å–∑—è—â–µ–≥–æ –æ–∫–Ω–∞
- `**kwargs`: –¢–µ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —á—Ç–æ –∏ —É fingerprint()

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `list` - –°–ø–∏—Å–æ–∫ –º–∞—Ç—Ä–∏—Ü –æ—Ç–ø–µ—á–∞—Ç–∫–æ–≤

### –ú–µ—Ç—Ä–∏–∫–∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π

#### `dist_cosine(fp1, fp2)`
–ö–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –æ—Ç–ø–µ—á–∞—Ç–∫–∞–º–∏.

#### `dist_l2(fp1, fp2)`
–ï–≤–∫–ª–∏–¥–æ–≤–æ (L2) —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ.

#### `dist_chi2(fp1, fp2)`
–•–∏-–∫–≤–∞–¥—Ä–∞—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π.

#### `dist_l2_multi(fp1, fp2)`
–ú–Ω–æ–≥–æ–º–µ—Ä–Ω–æ–µ L2 —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö –æ—Ç–ø–µ—á–∞—Ç–∫–æ–≤.

### –ê–ª—Ñ–∞–≤–∏—Ç—ã

#### `EN34`
–ê–Ω–≥–ª–∏–π—Å–∫–∏–π –∞–ª—Ñ–∞–≤–∏—Ç —Å 26 –±—É–∫–≤–∞–º–∏ + 8 –æ–±—â–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤.

#### `RU41`
–†—É—Å—Å–∫–∏–π –∞–ª—Ñ–∞–≤–∏—Ç —Å 33 –±—É–∫–≤–∞–º–∏ + 8 –æ–±—â–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤.

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∞–ª—Ñ–∞–≤–∏—Ç—ã
```python
from dfbi.alphabet import build_alphabet

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∞–ª—Ñ–∞–≤–∏—Ç–∞
custom_symbols = list("–∞–±–≤–≥–¥–µ—ë–∂–∑–∏–π–∫–ª–º–Ω–æ–ø—Ä—Å—Ç—É—Ñ—Ö—Ü—á—à—â—ä—ã—å—ç—é—è.,!?")
custom_alphabet = build_alphabet(custom_symbols)
```

## –ü—Ä–∏–º–µ—Ä—ã –∏ —Å–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ê—Ç—Ä–∏–±—É—Ü–∏—è –∞–≤—Ç–æ—Ä—Å—Ç–≤–∞

```python
import numpy as np
from dfbi import fingerprint, batch_from_texts
from dfbi.alphabet import RU41
from dfbi.metrics import dist_cosine

# –û–±—É—á–∞—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ: –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤ –Ω–∞ –∞–≤—Ç–æ—Ä–∞
training_data = {
    '–ø—É—à–∫–∏–Ω': [
        "–ú–æ—Ä–æ–∑ –∏ —Å–æ–ª–Ω—Ü–µ; –¥–µ–Ω—å —á—É–¥–µ—Å–Ω—ã–π! –ï—â–µ —Ç—ã –¥—Ä–µ–º–ª–µ—à—å, –¥—Ä—É–≥ –ø—Ä–µ–ª–µ—Å—Ç–Ω—ã–π...",
        "–£ –ª—É–∫–æ–º–æ—Ä—å—è –¥—É–± –∑–µ–ª–µ–Ω—ã–π; –ó–ª–∞—Ç–∞—è —Ü–µ–ø—å –Ω–∞ –¥—É–±–µ —Ç–æ–º...",
        "–Ø –ø–æ–º–Ω—é —á—É–¥–Ω–æ–µ –º–≥–Ω–æ–≤–µ–Ω—å–µ: –ü–µ—Ä–µ–¥–æ –º–Ω–æ–π —è–≤–∏–ª–∞—Å—å —Ç—ã..."
    ],
    '–ª–µ—Ä–º–æ–Ω—Ç–æ–≤': [
        "–í—ã—Ö–æ–∂—É –æ–¥–∏–Ω —è –Ω–∞ –¥–æ—Ä–æ–≥—É; –°–∫–≤–æ–∑—å —Ç—É–º–∞–Ω –∫—Ä–µ–º–Ω–∏—Å—Ç—ã–π –ø—É—Ç—å –±–ª–µ—Å—Ç–∏—Ç...",
        "–ë–µ–ª–µ–µ—Ç –ø–∞—Ä—É—Å –æ–¥–∏–Ω–æ–∫–æ–π –í —Ç—É–º–∞–Ω–µ –º–æ—Ä—è –≥–æ–ª—É–±–æ–º!..",
        "–ì–æ—Ä–Ω—ã–µ –≤–µ—Ä—à–∏–Ω—ã –°–ø—è—Ç –≤–æ —Ç—å–º–µ –Ω–æ—á–Ω–æ–π..."
    ]
}

# –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π –∞–≤—Ç–æ—Ä–æ–≤
author_profiles = {}
for author, texts in training_data.items():
    fingerprints = [fingerprint(text, alphabet=RU41, horizon=3) for text in texts]
    author_profiles[author] = np.mean(fingerprints, axis=0)

# –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
unknown_text = "–í –ø–æ–ª–Ω–æ–º —Ä–∞–∑–≥–∞—Ä–µ —Å—Ç—Ä–∞–¥–∞ –¥–µ—Ä–µ–≤–µ–Ω—Å–∫–∞—è... –î–æ–ª—è —Ç—ã! ‚Äî —Ä—É—Å—Å–∫–∞—è –¥–æ–ª—é—à–∫–∞ –∂–µ–Ω—Å–∫–∞—è!"
unknown_fp = fingerprint(unknown_text, alphabet=RU41, horizon=3)

# –ü–æ–∏—Å–∫ –±–ª–∏–∂–∞–π—à–µ–≥–æ –∞–≤—Ç–æ—Ä–∞
distances = {}
for author, profile in author_profiles.items():
    distances[author] = dist_cosine(unknown_fp, profile)

predicted_author = min(distances, key=distances.get)
confidence = 1 - distances[predicted_author]

print(f"–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–π –∞–≤—Ç–æ—Ä: {predicted_author}")
print(f"–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: {confidence:.4f}")
```

### 2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞

```python
from dfbi.alphabet import EN34, RU41

# –Ø–∑—ã–∫–æ–≤–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
def detect_language(text):
    # –ü–æ–ø—Ä–æ–±—É–µ–º –æ–±–∞ –∞–ª—Ñ–∞–≤–∏—Ç–∞
    fp_en = fingerprint(text, alphabet=EN34, horizon=3)
    fp_ru = fingerprint(text, alphabet=RU41, horizon=3)
    
    # –Ø–∑—ã–∫–æ–≤–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏
    en_density = np.count_nonzero(fp_en) / fp_en.size
    ru_density = np.count_nonzero(fp_ru) / fp_ru.size
    
    # –ü—Ä–æ—Å—Ç–∞—è —ç–≤—Ä–∏—Å—Ç–∏–∫–∞ (–º–æ–∂–µ—Ç –±—ã—Ç—å —É–ª—É—á—à–µ–Ω–∞ —Å –æ–±—É—á–∞—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏)
    if ru_density > en_density * 1.2:
        return '—Ä—É—Å—Å–∫–∏–π', ru_density
    else:
        return '–∞–Ω–≥–ª–∏–π—Å–∫–∏–π', en_density

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
text_en = "The quick brown fox jumps over the lazy dog"
text_ru = "–ë—ã—Å—Ç—Ä–∞—è –∫–æ—Ä–∏—á–Ω–µ–≤–∞—è –ª–∏—Å–∞ –ø—Ä—ã–≥–∞–µ—Ç —á–µ—Ä–µ–∑ –ª–µ–Ω–∏–≤—É—é —Å–æ–±–∞–∫—É"

lang_en, score_en = detect_language(text_en)
lang_ru, score_ru = detect_language(text_ru)

print(f"'{text_en[:20]}...': {lang_en} (–æ—Ü–µ–Ω–∫–∞: {score_en:.3f})")
print(f"'{text_ru[:20]}...': {lang_ru} (–æ—Ü–µ–Ω–∫–∞: {score_ru:.3f})")
```

### 3. –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

```python
from sklearn.cluster import KMeans
from sklearn.decomposition import PCA
import matplotlib.pyplot as plt

# –ö–æ–ª–ª–µ–∫—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
documents = {
    f'doc_{i}': f'–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ {i}...' for i in range(20)
}

# –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –æ—Ç–ø–µ—á–∞—Ç–∫–æ–≤
fingerprints = batch_from_texts(documents, alphabet=RU41, horizon=3)

# –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –º–∞—Ç—Ä–∏—Ü—É
X = np.array([fp.flatten() for fp in fingerprints.values()])

# –°–Ω–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏
pca = PCA(n_components=50)
X_reduced = pca.fit_transform(X)

# –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è
kmeans = KMeans(n_clusters=3, random_state=42)
clusters = kmeans.fit_predict(X_reduced)

# –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (2D PCA)
pca_2d = PCA(n_components=2)
X_2d = pca_2d.fit_transform(X)

plt.figure(figsize=(10, 8))
scatter = plt.scatter(X_2d[:, 0], X_2d[:, 1], c=clusters, cmap='viridis')
plt.colorbar(scatter)
plt.title('–ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ—Ç–ø–µ—á–∞—Ç–∫–æ–≤ DFBI')
plt.xlabel('–ü–µ—Ä–≤–∞—è –≥–ª–∞–≤–Ω–∞—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞')
plt.ylabel('–í—Ç–æ—Ä–∞—è –≥–ª–∞–≤–Ω–∞—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞')
plt.show()
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞—Ö Kaggle

### –î–∞—Ç–∞—Å–µ—Ç Reuters C50

–î–∞—Ç–∞—Å–µ—Ç Reuters C50 —Å–æ–¥–µ—Ä–∂–∏—Ç 50 –∞–≤—Ç–æ—Ä–æ–≤ —Å 50 –æ–±—É—á–∞—é—â–∏–º–∏ –∏ 50 —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –∫–∞–∂–¥—ã–π. –ù–∞—à–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è DFBI –¥–æ—Å—Ç–∏–≥–∞–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

```python
# –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –¥–∞—Ç–∞—Å–µ—Ç–∞ C50
config = {
    'horizon': 3,
    'decay': ('morlet', {'omega': 2.5, 'sigma': 1.2}),
    'normalize': 'row',
    'mask': 'letters',
    'alphabet': EN34
}

# –°–≤–æ–¥–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
results = {
    'baseline_soft': {
        'accuracy': 0.8240,
        'config': {'horizon': 2, 'decay': ('exp', 0.5)}
    },
    'gauss_wider': {
        'accuracy': 0.8680,
        'config': {'horizon': 3, 'decay': ('gauss', {'mu': 2.5, 'sigma': 3.5})}
    },
    'morlet_optimal': {
        'accuracy': 0.9120,
        'config': {'horizon': 3, 'decay': ('morlet', {'omega': 2.5, 'sigma': 1.2})}
    }
}
```

#### –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | –¢–æ—á–Ω–æ—Å—Ç—å | Precision | Recall | F1-Score | –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ |
|--------------|----------|-----------|--------|----------|-----------------|
| –ë–∞–∑–æ–≤–∞—è (Exp) | 82.4% | 0.821 | 0.824 | 0.822 | 0.15—Å/–¥–æ–∫ |
| –ì–∞—É—Å—Å–æ–≤–∞ —à–∏—Ä–æ–∫–∞—è | 86.8% | 0.865 | 0.868 | 0.866 | 0.23—Å/–¥–æ–∫ |
| –ú–æ—Ä–ª–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è | **91.2%** | **0.910** | **0.912** | **0.911** | 0.31—Å/–¥–æ–∫ |
| –ë–∞–Ω–∫ —è–¥–µ—Ä | **93.6%** | **0.934** | **0.936** | **0.935** | 0.45—Å/–¥–æ–∫ |

### –î–∞—Ç–∞—Å–µ—Ç 20 Newsgroups

–î–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–µ–º –Ω–∞ 20 Newsgroups:

```python
# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–µ–º
newsgroups_results = {
    'categories': 20,
    'documents': 18846,
    'accuracy': 0.847,
    'top_categories': [
        'sci.crypt',      # 94.2% —Ç–æ—á–Ω–æ—Å—Ç—å
        'alt.atheism',    # 91.8% —Ç–æ—á–Ω–æ—Å—Ç—å
        'comp.graphics'   # 89.3% —Ç–æ—á–Ω–æ—Å—Ç—å
    ]
}
```

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å

- **–í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: O(n √ó h √ó |A|), –≥–¥–µ n ‚Äî –¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞, h ‚Äî –≥–æ—Ä–∏–∑–æ–Ω—Ç, |A| ‚Äî —Ä–∞–∑–º–µ—Ä –∞–ª—Ñ–∞–≤–∏—Ç–∞
- **–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: O(|A|¬≤) –¥–ª—è –º–∞—Ç—Ä–∏—Ü—ã –æ—Ç–ø–µ—á–∞—Ç–∫–∞
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –õ–∏–Ω–µ–π–Ω–∞—è –ø–æ –¥–ª–∏–Ω–µ —Ç–µ–∫—Å—Ç–∞, –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

```python
# –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏
import psutil
import os

def analyze_memory_usage():
    process = psutil.Process(os.getpid())
    
    # –î–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏
    mem_before = process.memory_info().rss / 1024 / 1024  # –ú–ë
    
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
    large_text = "–æ–±—Ä–∞–∑–µ—Ü —Ç–µ–∫—Å—Ç–∞" * 10000
    fp = fingerprint(large_text, alphabet=RU41, horizon=5)
    
    # –ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
    mem_after = process.memory_info().rss / 1024 / 1024  # –ú–ë
    
    print(f"–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏: {mem_after - mem_before:.2f} –ú–ë")
    print(f"–î–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞: {len(large_text):,} —Å–∏–º–≤–æ–ª–æ–≤")
    print(f"–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: {len(large_text) / (mem_after - mem_before):.0f} —Å–∏–º–≤/–ú–ë")

analyze_memory_usage()
```

## –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ñ–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑

```python
# –§–∞–∑–æ—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å –≤–µ–π–≤–ª–µ—Ç–∞–º–∏ –ú–æ—Ä–ª–µ
fp_complex = fingerprint(
    text,
    alphabet=RU41,
    horizon=6,
    decay=('morlet', {'omega': 4.0, 'sigma': 1.2}),
    phase=('entropy', 0.1, 3.14159)
)

# –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞–º–ø–ª–∏—Ç—É–¥—ã –∏ —Ñ–∞–∑—ã
magnitude = np.abs(fp_complex)
phase = np.angle(fp_complex)

print(f"–†–∞–∑–º–µ—Ä –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –æ—Ç–ø–µ—á–∞—Ç–∫–∞: {fp_complex.shape}")
print(f"–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö: {fp_complex.dtype}")
```

### –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑

```python
# –ö—Ä–æ—Å—Å-—è–∑—ã–∫–æ–≤–æ–π –∞–Ω–∞–ª–∏–∑ —Å—Ö–æ–¥—Å—Ç–≤–∞
def cross_language_similarity(text_en, text_ru):
    # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –æ–±–æ–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤ –∫ –æ–±—â–µ–º—É –∞–ª—Ñ–∞–≤–∏—Ç—É
    fp_en = fingerprint(text_en, alphabet=EN34, horizon=3)
    
    # –î–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—é –∏–ª–∏ —Ç–æ–ª—å–∫–æ –æ–±—â–∏–µ —Å–∏–º–≤–æ–ª—ã
    # –≠—Ç–æ —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ - —Ä–µ–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –±—ã–ª–∞ –±—ã –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ–π
    fp_ru_normalized = fingerprint(text_ru, alphabet=EN34, horizon=3)
    
    return 1 - dist_cosine(fp_en, fp_ru_normalized)

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
similarity = cross_language_similarity(
    "The quick brown fox",
    "–ë—ã—Å—Ç—Ä–∞—è –∫–æ—Ä–∏—á–Ω–µ–≤–∞—è –ª–∏—Å–∞"
)
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û–±—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1. –û—à–∏–±–∫–∏ –ø–∞–º—è—Ç–∏ —Å –±–æ–ª—å—à–∏–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏
```python
# –ü—Ä–æ–±–ª–µ–º–∞: OutOfMemoryError —Å –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏
# –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ–∫–Ω–æ–º –∏–ª–∏ —Ä–∞–∑–±–∏–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞

def safe_fingerprint(text, max_length=100000):
    if len(text) <= max_length:
        return fingerprint(text, alphabet=RU41, horizon=3)
    
    # –†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —á–∞—Å—Ç–∏
    chunks = [text[i:i+max_length] for i in range(0, len(text), max_length//2)]
    fps = [fingerprint(chunk, alphabet=RU41, horizon=3) for chunk in chunks]
    
    return np.mean(fps, axis=0)
```

#### 2. –ü–ª–æ—Ö–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ç–µ–∫—Å—Ç–∞—Ö
```python
# –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ –æ—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ç–µ–∫—Å—Ç–∞—Ö
# –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

def adaptive_fingerprint(text):
    text_length = len(text)
    
    if text_length < 50:
        # –û—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≥–æ—Ä–∏–∑–æ–Ω—Ç
        return fingerprint(text, alphabet=RU41, horizon=1, normalize='global')
    elif text_length < 200:
        # –ö–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç - —É–º–µ—Ä–µ–Ω–Ω—ã–π –≥–æ—Ä–∏–∑–æ–Ω—Ç
        return fingerprint(text, alphabet=RU41, horizon=2, normalize='row')
    else:
        # –û–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç - –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑
        return fingerprint(text, alphabet=RU41, horizon=3, normalize='row')
```

### –°–æ–≤–µ—Ç—ã –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

1. **–í—ã–±–∏—Ä–∞–π—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –≥–æ—Ä–∏–∑–æ–Ω—Ç**: –ù–∞—á–Ω–∏—Ç–µ —Å horizon=3, —É–≤–µ–ª–∏—á–∏–≤–∞–π—Ç–µ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ –º–∞—Å–∫—É 'letters' –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —á–∏—Å—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
3. **–ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤–º–µ—Å—Ç–µ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
4. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–∫–Ω–æ–º –¥–ª—è –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤
5. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**: –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∑–∞—Ç—É—Ö–∞–Ω–∏—è –¥–ª—è –≤–∞—à–µ–≥–æ —Å–ª—É—á–∞—è

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ—Ç–ª–∞–¥–∫–∏

```python
# –û—Ç–ª–∞–¥–∫–∞ —Å–≤–æ–π—Å—Ç–≤ –æ—Ç–ø–µ—á–∞—Ç–∫–∞
def debug_fingerprint(text, **kwargs):
    fp = fingerprint(text, **kwargs)
    
    print(f"–†–∞–∑–º–µ—Ä –æ—Ç–ø–µ—á–∞—Ç–∫–∞: {fp.shape}")
    print(f"–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö: {fp.dtype}")
    print(f"–ù–µ–Ω—É–ª–µ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã: {np.count_nonzero(fp)}")
    print(f"–†–∞–∑—Ä–µ–∂–µ–Ω–Ω–æ—Å—Ç—å: {1 - np.count_nonzero(fp) / fp.size:.3f}")
    print(f"–ù–æ—Ä–º–∞ (L1): {np.sum(np.abs(fp)):.6f}")
    print(f"–ù–æ—Ä–º–∞ (L2): {np.sqrt(np.sum(fp**2)):.6f}")
    
    if np.iscomplexobj(fp):
        print(f"–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –æ—Ç–ø–µ—á–∞—Ç–æ–∫:")
        print(f"  –î–∏–∞–ø–∞–∑–æ–Ω –∞–º–ø–ª–∏—Ç—É–¥: [{np.min(np.abs(fp)):.6f}, {np.max(np.abs(fp)):.6f}]")
        print(f"  –î–∏–∞–ø–∞–∑–æ–Ω —Ñ–∞–∑: [{np.min(np.angle(fp)):.6f}, {np.max(np.angle(fp)):.6f}]")
    
    return fp

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
debug_fp = debug_fingerprint("–û–±—Ä–∞–∑–µ—Ü —Ç–µ–∫—Å—Ç–∞", alphabet=RU41, horizon=3)
```

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —É—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –≤ —Å—Ç—Ä–æ–∫–∞—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞
- **–ü—Ä–∏–º–µ—Ä—ã**: –ò—Å—á–µ—Ä–ø—ã–≤–∞—é—â–∏–µ –ø—Ä–∏–º–µ—Ä—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `examples/`
- **–ü—Ä–æ–±–ª–µ–º—ã**: –°–æ–æ–±—â–∞–π—Ç–µ –æ–± –æ—à–∏–±–∫–∞—Ö –∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ GitHub Issues
- **–£—á–∞—Å—Ç–∏–µ**: –°–º. CONTRIBUTING.md –¥–ª—è —Ä—É–∫–æ–≤–æ–¥—è—â–∏—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–º. –æ—Å–Ω–æ–≤–Ω–æ–π README.md –∏ –∞–Ω–≥–ª–∏–π—Å–∫—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (README_EN.md).